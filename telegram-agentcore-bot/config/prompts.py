"""
ç³»çµ±æç¤ºè©ç®¡ç†
é›†ä¸­ç®¡ç†æ‰€æœ‰æç¤ºè©ï¼Œæ–¹ä¾¿ç¶­è­·å’Œæ›´æ–°
"""

import os

# ä¸»è¦ç³»çµ±æç¤ºè©
SYSTEM_PROMPT = os.getenv(
    "AGENT_SYSTEM_PROMPT",
    """ä½ æ˜¯ä¸€å€‹å‹å–„çš„ Telegram åŠ©æ‰‹ã€‚
ä½¿ç”¨ç¹é«”ä¸­æ–‡å›æ‡‰ã€‚
ä½ å¯ä»¥æŸ¥è©¢å¤©æ°£ã€é€²è¡Œè¨ˆç®—ã€æŸ¥è©¢ç”¨æˆ¶è³‡è¨Šã€ç€è¦½ç¶²ç«™ç­‰åŠŸèƒ½ã€‚

ğŸŒ ç¶²é ç€è¦½åŠŸèƒ½ï¼š
- ç€è¦½æŒ‡å®šç¶²ç«™ä¸¦ç¸½çµå…§å®¹
- æœå°‹ç¶²è·¯è³‡è¨Š
- æå–ç¶²é è³‡æ–™
- èˆ‡ç¶²é å…ƒç´ äº’å‹•

ğŸ“„ æª”æ¡ˆé¡å‹è™•ç†èªªæ˜ï¼š
- PDF æª”æ¡ˆï¼šç€è¦½å™¨å·¥å…·å¯ä»¥è¨ªå• PDF é€£çµï¼Œä½†å¯èƒ½ç„¡æ³•ç›´æ¥æå–å®Œæ•´æ–‡å­—å…§å®¹
- ç•¶é‡åˆ° PDF æˆ–å…¶ä»–æ–‡ä»¶æª”æ¡ˆæ™‚ï¼Œæ‡‰ä¸»å‹•èªªæ˜é€™äº›é™åˆ¶
- å¦‚æœç„¡æ³•è®€å–æª”æ¡ˆå…§å®¹ï¼Œå»ºè­°ç”¨æˆ¶ä¸‹è¼‰æª”æ¡ˆåˆ°æœ¬åœ°æŸ¥çœ‹
- å°æ–¼ PDF æª”æ¡ˆï¼Œå¯ä»¥å˜—è©¦æˆªåœ–ä¾†æŸ¥çœ‹éƒ¨åˆ†å…§å®¹

é‡è¦æç¤ºè¦å‰‡ï¼š
1. ç•¶ç”¨æˆ¶è¦æ±‚è¨ªå• .pdf, .doc, .docx ç­‰æª”æ¡ˆæ™‚ï¼Œå…ˆèªªæ˜å¯èƒ½çš„é™åˆ¶
2. å¦‚æœç€è¦½çµæœç„¡æ³•æå–æ–‡å­—ï¼Œè¦æ˜ç¢ºå‘ŠçŸ¥ç”¨æˆ¶
3. æä¾›æ›¿ä»£å»ºè­°ï¼ˆå¦‚ä¸‹è¼‰åˆ°æœ¬åœ°æŸ¥çœ‹ï¼‰

å¦‚æœå•Ÿç”¨äº†è¨˜æ†¶åŠŸèƒ½ï¼Œä½ æœƒè¨˜ä½ç”¨æˆ¶çš„åå¥½å’Œå°è©±æ­·å²ã€‚
ä¿æŒå›æ‡‰ç°¡æ½”æ˜ç­ã€‚""",
)

# éŒ¯èª¤è¨Šæ¯æ¨¡æ¿
ERROR_MESSAGES = {
    "general": "æŠ±æ­‰ï¼Œè™•ç†æ‚¨çš„è«‹æ±‚æ™‚ç™¼ç”ŸéŒ¯èª¤: {error}",
    "browser_init_failed": "ç€è¦½å™¨å·¥å…·åˆå§‹åŒ–å¤±æ•—: {error}",
    "browser_navigation_failed": "ç„¡æ³•è¨ªå•ç¶²ç«™: {error}",
    "calculation_error": "è¨ˆç®—éŒ¯èª¤: {error}",
    "memory_not_enabled": "è¨˜æ†¶åŠŸèƒ½æœªå•Ÿç”¨ï¼Œç„¡æ³•è¨˜ä½å°è©±æ­·å²",
    "invalid_url": "æœªæ‰¾åˆ°æœ‰æ•ˆçš„ URLï¼Œè«‹æä¾›å®Œæ•´ç¶²å€",
    "content_extraction_failed": "ç„¡æ³•æå–é é¢å…§å®¹ï¼Œå¯èƒ½æ˜¯å‹•æ…‹è¼‰å…¥é é¢æˆ–éœ€è¦ç‰¹æ®Šæ¬Šé™",
    "pdf_limitation": "PDF æª”æ¡ˆå¯èƒ½ç„¡æ³•å®Œæ•´æå–æ–‡å­—å…§å®¹ï¼Œå»ºè­°ä¸‹è¼‰åˆ°æœ¬åœ°æŸ¥çœ‹",
    "empty_response": "è™•ç†å®Œæˆï¼Œä½†å›æ‡‰å…§å®¹ç‚ºç©ºã€‚è«‹å˜—è©¦é‡æ–°æè¿°æ‚¨çš„éœ€æ±‚ã€‚",
}

# å·¥å…·æè¿°
TOOL_DESCRIPTIONS = {
    "weather": "å–å¾—åŸå¸‚å¤©æ°£è³‡è¨Š",
    "calculator": "åŸ·è¡Œç°¡å–®æ•¸å­¸è¨ˆç®—ï¼ˆå®‰å…¨ç‰ˆæœ¬ï¼‰",
    "user_info": "å–å¾—ç”¨æˆ¶è³‡è¨Š",
    "current_time": "å–å¾—ç›®å‰å°åŒ—æ™‚é–“",
    "browse_website": "ç€è¦½ç¶²ç«™ä¸¦æå–å…§å®¹",
}

# ç€è¦½å™¨ç›¸é—œæç¤º
BROWSER_PROMPTS = {
    "extracting_content": "æ­£åœ¨æå–ç¶²é å…§å®¹...",
    "navigation_success": "æˆåŠŸè¨ªå•ç¶²ç«™",
    "navigation_failed": "ç„¡æ³•è¨ªå•ç¶²ç«™",
    "content_truncated": "[å…§å®¹å·²æˆªæ–·ï¼Œå®Œæ•´å…§å®¹è«‹ç›´æ¥è¨ªå•ç¶²ç«™]",
    "pdf_warning": "æ³¨æ„ï¼šé€™æ˜¯ PDF æª”æ¡ˆï¼Œå¯èƒ½ç„¡æ³•å®Œæ•´æå–æ–‡å­—å…§å®¹",
}


def get_error_message(error_type: str, **kwargs) -> str:
    """
    å–å¾—æ ¼å¼åŒ–çš„éŒ¯èª¤è¨Šæ¯

    Args:
        error_type: éŒ¯èª¤é¡å‹
        **kwargs: æ ¼å¼åŒ–åƒæ•¸

    Returns:
        æ ¼å¼åŒ–å¾Œçš„éŒ¯èª¤è¨Šæ¯
    """
    template = ERROR_MESSAGES.get(error_type, ERROR_MESSAGES["general"])
    try:
        return template.format(**kwargs)
    except:
        return template


def get_browser_prompt(prompt_type: str) -> str:
    """
    å–å¾—ç€è¦½å™¨ç›¸é—œæç¤º

    Args:
        prompt_type: æç¤ºé¡å‹

    Returns:
        å°æ‡‰çš„æç¤ºè¨Šæ¯
    """
    return BROWSER_PROMPTS.get(prompt_type, "")
